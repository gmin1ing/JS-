<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{
			margin:0;
			padding:0;
		}
		input{
			margin-top:20px;
		}
		div{
			margin-top:20px;
			width:200px;
			height:100px;
			background-color:pink;
			position:absolute;
			left:20px;
		}
	</style>
</head>
<body>
	<input type="button" value="移动到400px" id="btn1" />
	<input type="button" value="移动到800px" id="btn2" />
	<div id="dv"></div>
	
	<script>
		my$("btn1").onclick=function(){
			animate(my$("dv"),400);
		};
		
		my$("btn2").onclick=function(){
				animate(my$("dv"),800);
		};
		
		function my$(id){
			return document.getElementById(id) ;
		}

		function animate(element,target){
				clearInterval(element.timeId);
				element.timeId=setInterval(function(){
				var current=element.offsetLeft;
				var step=10;
				step=current<target?step:-step;
				current+=step;
				if(Math.abs(target-current)>Math.abs(step)){
					element.style.left=current+"px";
				}else{

					clearInterval(element.timeId);
					element.style.left=target+"px";
				}
			},20);		
		}

	</script>

</body>
</html>