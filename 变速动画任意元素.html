<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{
			margin:0;
			padding:0;
		}
		input{
			margin-top:20px;
		}
		div{
			margin-top:20px;
			width:200px;
			height:100px;
			background-color:pink;
			position:absolute;
			left:20px;
		}
	</style>
</head>
<body>
	<input type="button" value="移动到400px" id="btn1" />
	<input type="button" value="移动到800px" id="btn2" />
	<div id="dv"></div>
	
	<script>
		my$("btn1").onclick=function(){	
			animate(my$("dv"),"left",400);
		};
		
		
		function my$(id){
			return document.getElementById(id) ;
		}

		function getStyle(element, attr){
			return window.getComputedStyle?window.getComputedStyle(element,null)[attr]:element.currentStyle[attr];
		}


	function animate(element,attr,target){
				clearInterval(element.timeId);
				element.timeId=setInterval(function(){
				var current=parseInt(getStyle(element, attr));
				var step=(target-current)/10;
				step=step>0?Math.ceil(step):Math.floor(step)
				current+=step;
				element.style[attr]=current+"px";
				if(current==target){
					clearInterval(element.timeId);
				}

			},20);		
		}

	</script>

</body>
</html>